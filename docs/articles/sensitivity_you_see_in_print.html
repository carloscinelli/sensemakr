<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Assessing the sensitivity of results you see in print • sensemakr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Assessing the sensitivity of results you see in print">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158095434-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158095434-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sensemakr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/sensemakr.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="https://carloscinelli.shinyapps.io/robustness_value/">Shiny App</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/chadhazlett/sensemakr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Assessing the sensitivity of results you see in print</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/chadhazlett/sensemakr/blob/master/vignettes/sensitivity_you_see_in_print.Rmd"><code>vignettes/sensitivity_you_see_in_print.Rmd</code></a></small>
      <div class="hidden name"><code>sensitivity_you_see_in_print.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>In this section we discuss how to use the individual functions of <code>sensemakr</code> to peform sensitivity analyses of results you see in print, but do not have access to the microdata. Here we take a more practical approach, and spend less time discussing the intepretation or theory. Therefore, if this is you first time using these tools, it may be helpful to read the vignette “An introduction to sensitivity analysis using <code>sensemakr</code>” firt, as well as the JRSS-B paper ( <a href="https://rss.onlinelibrary.wiley.com/doi/full/10.1111/rssb.12348">Cinelli and Hazlett (2020)</a>. )</p>
</div>
<div id="revisiting-darfur" class="section level2">
<h2 class="hasAnchor">
<a href="#revisiting-darfur" class="anchor"></a>Revisiting Darfur</h2>
<p>Suppose that, instead of having access to the raw data of the conflicts in Darfur (see <code><a href="../reference/darfur.html">?darfur</a></code>), we onlt had instead, access to the usual regression table as presented in a published paper (here we show just the coefficients of <code>directlyharmed</code> and <code>female</code>, to save space):</p>
<pre><code>
===============================================
                        Dependent variable:    
                    ---------------------------
                            peacefactor        
-----------------------------------------------
directlyharmed               0.097***          
                              (0.023)          
                                               
female                       -0.232***         
                              (0.024)          
                                               
-----------------------------------------------
Observations                   1,276           
R2                             0.512           
Adjusted R2                    0.205           
Residual Std. Error      0.310 (df = 783)      
F Statistic          1.667*** (df = 492; 783)  
===============================================
Note:               *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
<p>Further suppose that the paper claims that there is a large, positive causal effect of <code>directlyharmed</code> on <code>peacefactor</code>, but does not present any sensitivity analysis to examine the robustness of such claim against the threat of unobserved confounding. Can we assess how robust these findings are by using just the summary statistics of the regression table? Fortunately, the answer is “yes.” Here we show how to replicate all results o the previous vignette “An introduction to sensitivity analysis using <code>sensemakr</code>” using the “lower level” functions of <code>sensemakr</code>.</p>
</div>
<div id="sensitivity-statistics-for-routine-reporting" class="section level2">
<h2 class="hasAnchor">
<a href="#sensitivity-statistics-for-routine-reporting" class="anchor"></a>Sensitivity statistics for routine reporting</h2>
<p>It is possible to compute the partial <span class="math inline">\(R^2\)</span> and robustness value of <code>directlyharmed</code> by simply providing the t-statistics and the degrees of freedom of the regression. The partial <span class="math inline">\(R^2\)</span> is computed using the <code><a href="../reference/partial_r2.html">partial_r2()</a></code> function.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="../reference/partial_r2.html">partial_r2</a></span>(<span class="dt">t_statistic =</span> <span class="fl">0.097</span><span class="op">/</span><span class="fl">0.023</span>, <span class="dt">dof =</span> <span class="dv">783</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt; [1] 0.02221115</span></span></code></pre></div>
<p>The partial <span class="math inline">\(R^2\)</span> here is 2.2%, which means that unobserved confounders that explain 100% of the residual variation of the outcome (<code>peacefactor</code>), would still need to explain 2.2% of the the treatment (<code>directlyharmed</code>) to bring the point estimate to zero.</p>
<p>The robustness value is computed with the <code><a href="../reference/robustness_value.html">robustness_value()</a></code> function. By default, the function computes the minimum amount of confounding to bring the point estimate (<code>alpha=1</code>, ie, significance level of 1) to zero (<code>q=1</code>, that is, a reduction of 100% of the current estimate).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="../reference/robustness_value.html">robustness_value</a></span>(<span class="dt">t_statistic =</span> <span class="fl">0.097</span><span class="op">/</span><span class="fl">0.023</span>, <span class="dt">dof =</span> <span class="dv">783</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; [1] 0.1397868</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; Parameters: q = 1, alpha = 1</span></span></code></pre></div>
<p>This means that confounders that explain 13.9% of the residual variance of both the treatment and the outcome are sufficiently strong to explain away the observed estimate of 0.097. Confounders with both associations lower than 13.9% are not sufficiently strong to do so.</p>
<p>These defaults can be changed. For example, the code below computes the minimum strength of confounding to bring the lower end of a 95% confidnce interval (<code>alpha =0.05</code>) to half of the current estimate <code>q=1/2</code>. We see that a confounder that explains just 0.05% of both the treatment and the outcome is sufficiently strong to make the confidence interval include the value of 0.0485 (half of the current estimate of 0.97).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="../reference/robustness_value.html">robustness_value</a></span>(<span class="dt">t_statistic =</span> <span class="fl">0.097</span><span class="op">/</span><span class="fl">0.023</span>, <span class="dt">dof =</span> <span class="dv">783</span>, <span class="dt">q =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span>, <span class="dt">alpha =</span> <span class="fl">0.05</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; [1] 0.005148514</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; Parameters: q = 0.5, alpha = 0.05</span></span></code></pre></div>
<p>It is also possible to compute all these sensitivity statistics with the convenience function <code><a href="../reference/sensitivity_stats.html">sensitivity_stats()</a></code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="../reference/sensitivity_stats.html">sensitivity_stats</a></span>(<span class="dt">estimate =</span> <span class="fl">0.097</span>, <span class="dt">se =</span> <span class="fl">0.023</span>, <span class="dt">dof =</span> <span class="dv">783</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt;   treatment estimate    se t_statistic     r2yd.x      rv_q      rv_qa</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; 1 treatment    0.097 0.023    4.217391 0.02221115 0.1397868 0.07734391</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;      f2yd.x dof</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; 1 0.0227157 783</span></span></code></pre></div>
</div>
<div id="adjusted-estimates-and-standard-errors" class="section level2">
<h2 class="hasAnchor">
<a href="#adjusted-estimates-and-standard-errors" class="anchor"></a>Adjusted estimates and standard errors</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="../reference/ovb_contour_plot.html">ovb_contour_plot</a></span>(<span class="dt">estimate =</span> <span class="fl">0.097</span>, <span class="dt">se =</span> <span class="fl">0.023</span>, <span class="dt">dof =</span> <span class="dv">783</span>)</span></code></pre></div>
<p><img src="sensitivity_you_see_in_print_files/figure-html/unnamed-chunk-9-1.png" width="432" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#revisiting-darfur">Revisiting Darfur</a></li>
      <li><a href="#sensitivity-statistics-for-routine-reporting">Sensitivity statistics for routine reporting</a></li>
      <li><a href="#adjusted-estimates-and-standard-errors">Adjusted estimates and standard errors</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://carloscinelli.com">Carlos Cinelli</a>, <a href="https://chadhazlett.com">Chad Hazlett</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
